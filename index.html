<!DOCTYPE html>
<html>
    <head>
        <title>Soaad got an L!</title>

        <link rel="preload" href="./media/mb.jpg" as="image">
        <link rel="preload" href="./media/mbbg.jpg" as="image">
        <link rel="preload" href="./media/soda.jpg" as="image">
        <link rel="preload" href="./media/sodabg.jpg" as="image">

        <link rel="shortcut icon" type="image/jpg" href="./media/icon.jpg"/>

        <link rel="preconnect" href="https://fonts.gstatic.com">
        <link href="https://fonts.googleapis.com/css2?family=PT+Sans&display=swap" rel="stylesheet"> 

        <style>
            *{
                padding: 0;
                margin: 0;
                transition-duration: 0.25s;
                font-family: 'PT Sans', sans-serif;
            }

            body {
                width: 100vw;
                height: 100vh;
                background: url('./media/sodabg.jpg');
                background-repeat: no-repeat;
                background-attachment: fixed;
                background-position: center; 
                background-size: cover;                
            }

            body:hover {
                cursor: url("./media/l.png"), auto;
            }
            
            .img-div {
                width: 100vw;
                height: 100vh;
                display: flex;
                flex-direction: row;
                justify-content: center;
                align-content: center;
            }

            div img {
                display: block;
                z-index: -2;
                width: auto;
                height: auto;  
                max-width: 100vw;
                max-height: 100vh;   
                overflow: auto;
                -o-object-fit: contain;
                object-fit: contain;  
                display: none;       
            }

            .nav {
                position: fixed;
                display: flex;
                flex-direction: row;
                align-items: center;
                justify-content: space-between;
                width: 100%;
                height: 100px;
            }

            .nav-item {
                display: flex;
                width: auto;
                height: 30px;
                border-radius: 10px;
                margin: 5px;
                padding: 10px;
            }

            .nav-item:hover {
                border-bottom: 1px solid white;
            }

            .nav-section {
                display: flex;
                flex-direction: row;
            }

            .nav-right {
                justify-content: flex-end;
            }

            .nav-left {
                justify-content: flex-start;
            }

            .container {
                width: auto;
                height: auto;
                margin: 20px;
            }

            a:hover {
                cursor: pointer;
            }

            .active {
                display: block;
            }

            .timeline-container {
                position: fixed;
                display: flex;
                flex-direction: row;
                align-items: center;
                justify-content: space-around;
                width: 100%;
                height: auto;
                top: 80%;
            }

            .timeline {
                z-index: -2;
                display: flex;
                flex-direction: row;
                align-items: center;
                justify-content: space-around;
                min-width: 600px;
                padding: 0 0px 0 0px;
                width: auto;
                height: auto;
                background-color: rgba(51, 51, 51, 0);
                border-radius: 5px;
                border-top: 2px solid white;
            }

            .timeline-item {
                padding: 0;
                margin: 0;
                width: 120px; 
                min-height: 50px;
                display: flex;
                flex-direction: column;
                justify-content: space-between;
                align-items: center;
                font-size: 16pt;
                color: rgb(255, 255, 255);

            }

            .timeline-item:hover *{
                font-size: 17pt;
        
            }

            .timeline-item:hover{
                cursor: pointer;
        
            }

            .timeline-item .item {
                position: relative;
                bottom: 7px;
                width: 10px;
                height: 10px;
                background-color: rgb(255, 255, 255);
                border: 1px solid rgb(255, 255, 255);
                border-radius: 50%;
                -webkit-box-shadow: 0px 0px 18px -7px rgba(0,0,0,1);
                -moz-box-shadow: 0px 0px 18px -7px rgba(0,0,0,1);
                box-shadow: 0px 0px 18px -7px rgba(0,0,0,1);
            }

            .timeline-item:hover .item{
                font-size: 17pt;
                cursor: pointer;
            }

            .active-item {
                color: rgb(243, 178, 57);
            }

            .active-item .item {
                border: 1px solid rgb(243, 178, 57);
                background-color: rgb(243, 178, 57);
            }

            .disabled {
                color: rgb(126, 126, 126);
                
            }

            .disabled .item {
                border: 0px;
                background: rgb(126, 126, 126);
            }

            .disabled:hover, .disabled:hover  * {
                font-size: 16pt;
                cursor: url("./media/l.png"), auto;
            }

            .countdown {
                margin-left: 20px;
                min-width: 330px;
                display: flex;
                flex-direction: column;
                justify-content: space-between;
                align-items: center;
                padding: 0;
                border-radius: 4px;                
            }

            .countdown .values{
                width: 100%;
                display: flex;
                flex-direction: row;
                justify-content: space-between;
                align-items: center;
                padding: 10px 0 0 0;
                border-radius: 4px;
            }

            .countdown-item {
                color: white;
                font-weight: 1000;
                font-size: 28pt;
            }

            .progress {
                width: 100%;
                height: 15px;
                border: 1px solid white;
                border-radius: 2px;
                margin: 0 0 10px 0;
            }

            .bar {
                width: 0%;
                height: 100%;
                background-color: red;
                border-radius: 2px;
            }

            #babyyoda {
                margin-left: 10px;
                width: 150px;
                height: auto;
                display: block;
                margin-top: 10px;
                border-radius: 2px;
            }

        </style>
    </head>
    <body>
        <div class="nav">
            <div class="nav-right nav-section">
                <img src="./media/babyyoda.jpg" id="babyyoda"/>
                <div id="christmas-countdown" class="countdown">
                    <div class="values">
                        <div class="days countdown-item"></div>
                        <div class="hours countdown-item"></div>
                        <div class="minutes countdown-item"></div>
                        <div class="seconds countdown-item"></div>
                    </div>
                    <div class="progress">
                        <div class="bar">

                        </div>
                    </div>
                </div>
            </div>
            <div class="nav-left nav-section">
                <a class="container" href="/zoom" target="_blank">
                    <img class="nav-item" src="https://d24cgw3uvb9a9h.cloudfront.net/static/94129/image/new/ZoomLogo.png"/>
                </a>
                <a class="container" href="/discord" target="_blank">
                    <!-- https://discord.gg/XD2D8dudaf -->
                    <img class="nav-item" src="./media/discord.png"/>
                </a>
            </div>
            
            
            
            
        </div>
        <div class="img-div">
            <img id="i0" class="active" src="./media/soda.jpg" />
            <img id="i1" class="" src="./media/mb.jpg" />
        </div>
        
        <div class="timeline-container">
            <div class="timeline">
                <div class="timeline-item active-item" data-id="i0">
                    <div class="item"></div>
                    <div>2019</div>
                </div>
                <div class="timeline-item" data-id="i1">
                    <div class="item"></div>
                    <div>2020</div>
                </div>
                <div class="timeline-item disabled">
                    <div class="item"></div>
                    <div>2021</div>
                </div>
            </div>
        </div>
        
        <script>
            const start = 'December 25 2020 00:00:00 GMT-0500';
            const christmas = 'December 25 2021 00:00:00 GMT-0500';

            function getTimeRemaining(){

                const progress = Date.parse(christmas) - Date.parse(new Date());
                const seconds = Math.floor( (progress/1000) % 60 );
                const minutes = Math.floor( (progress/1000/60) % 60 );
                const hours = Math.floor( (progress/(1000*60*60)) % 24 );
                const days = Math.floor( progress/(1000*60*60*24) );

                const total = Date.parse(christmas) - Date.parse(start);
                const percentage = 1 - (progress/total);

                return {
                    total,
                    percentage,
                    days,
                    hours,
                    minutes,
                    seconds
                };
            }

            function initializeClock(id) {
                const clock = document.getElementById(id);
                const daysDiv = clock.querySelector('.days');
                const hoursDiv = clock.querySelector('.hours');
                const minutesDiv = clock.querySelector('.minutes');
                const secondsDiv = clock.querySelector('.seconds');
                const bar = clock.querySelector('.bar');

                function updateClock(){
                    const t = getTimeRemaining();
                    daysDiv.innerHTML = ("00" + t.days).slice(-3) + "d";
                    hoursDiv.innerHTML = ("0" + t.hours).slice(-2) + "h";
                    minutesDiv.innerHTML = ("0" + t.minutes).slice(-2) + "m";
                    secondsDiv.innerHTML = ("0" + t.seconds).slice(-2) + "s";

                    bar.style.width = (t.percentage * 100) + "%";

                    if (t.total <= 0) {
                        clearInterval(timeinterval);
                    }
                }

                updateClock(); // run function once at first to avoid delay
                var timeinterval = setInterval(updateClock,1000);

            }


            window.onload = function() {

                initializeClock("christmas-countdown");

                // not used (maybe later...)
                var items = {
                    i0: {
                        pic:"soda.jpg",
                        bg:"sodabg.jpg"
                    },
                    i1: {
                        pic:"mb.jpg",
                        bg:"mbbg.jpg"
                    }
                };
                

                var changeView = function(target) {
                    console.log(target);

                    if (target.dataset.id) {
                        // change active item
                        // .active-item

                        // remove class 
                        var elems = document.querySelectorAll(".timeline-item");
                        elems.forEach(function(e) {
                            e.classList.remove("active-item");
                        });

                        // add class
                        target.classList.add("active-item");

                        // remove class 
                        var elems = document.querySelectorAll(".img-div img");
                        elems.forEach(function(e) {
                            e.classList.remove("active");
                        });

                        // add class
                        var elems = document.querySelectorAll("#" + target.dataset.id);
                        elems.forEach(function(e) {
                            e.classList.add("active");
                        });

                        document.body.style.background = "rgba(0, 0, 0, 0) url('./media/" + items[target.dataset.id].bg + "') no-repeat fixed center/cover";
                    
                    }
                }
                
                var elems = document.querySelectorAll(".timeline-item");

                elems.forEach(function(e) {
                    e.addEventListener("click", function(event) {
                        event.preventDefault();
                        if (e !== event.target) {
                            changeView(event.target.parentElement);
                        }
                        else {
                            changeView(event.target);
                        }
                    }, false)
                });
            }
        </script>
    </body>
</html>